#视频列表（新）
query recommendPostsQuery {
    recommendPosts {
        id
        spider {
            id
        }
        content
        description
        status
        liked
        count_likes
        count_comments
        review_id
        review_day
        is_ad
        created_at
        user {
            id
            name
            avatar
            followed_status
            gender
            age
            introduction
        }
        tags {
            data {
                id
                name
            }
        }
        images {
            id
            url
            width
            height
        }
        video {
            id
            url
            cover
            duration
            width
            height
        }
    }
}

#动态广场
query publicPostsQuery($user_id: Int, $count: Int, $page: Int) {
    publicPosts(user_id: $user_id, count: $count, page: $page) {
        paginatorInfo {
            hasMorePages
            currentPage
        }
        data {
            id
            spider {
                id
            }
            content
            description
            status
            liked
            count_likes
            count_comments
            review_id
            review_day
            is_ad
            created_at
            user {
                id
                name
                avatar
                followed_status
                gender
                age
                introduction
            }
            tags {
                data {
                    id
                    name
                }
            }
            images {
                id
                url
                width
                height
            }
            video {
                id
                url
                cover
                duration
                width
                height
            }
        }
    }
}

# 动态
query postsQuery($user_id: Int!, $count: Int, $page: Int) {
    posts(user_id: $user_id, count: $count, page: $page) {
        paginatorInfo {
            hasMorePages
            currentPage
        }
        data {
            id
            spider {
                id
            }
            content
            description
            status
            liked
            count_likes
            count_comments
            review_id
            review_day
            is_ad
            created_at
            user {
                id
                name
                avatar
                followed_status
                gender
                age
                introduction
            }
            tags {
                data {
                    id
                    name
                }
            }
            images {
                id
                url
                width
                height
            }
            video {
                id
                url
                cover
                duration
                width
                height
            }
        }
    }
}

# 个人动态
# filter 筛选动态类型
# enum PostFilter {
# spider
# 用户爬取的动态
# normal
# 用户发布的动态
# all
# 全部
# }
query userPostsQuery($user_id: Int!, $filter: PostFilter, $count: Int, $page: Int) {
    userPosts(user_id: $user_id, filter: $filter, count: $count, page: $page) {
        paginatorInfo {
            hasMorePages
            currentPage
        }
        data {
            id
            spider {
                id
            }
            content
            description
            status
            liked
            count_likes
            count_comments
            review_id
            review_day
            is_ad
            created_at
            user {
                id
                name
                avatar
                followed_status
                gender
                age
                introduction
            }
            tags {
                data {
                    id
                    name
                }
            }
            images {
                id
                url
                width
                height
            }
            video {
                id
                url
                cover
                duration
                width
                height
            }
        }
    }
}

# 搜索动态
query searchPostQuery($query: String!, $page: Int) {
    searchPosts(query: $query, page: $page) {
        paginatorInfo {
            total
        }
        data {
            id
            spider {
                id
            }
            content
            description
            status
            liked
            count_likes
            count_comments
            review_id
            review_day
            is_ad
            created_at
            user {
                id
                name
                avatar
                followed_status
                gender
                age
                introduction
            }
            tags {
                data {
                    id
                    name
                }
            }
            images {
                id
                url
                width
                height
            }
            video {
                id
                url
                cover
                duration
                width
                height
            }
        }
    }
}

# 用户喜欢的动态
query userLikedArticlesQuery($user_id: Int!, $page: Int) {
    likes(user_id: $user_id, page: $page, liked_type: "articles") {
        paginatorInfo {
            currentPage
            hasMorePages
        }
        data {
            article {
                id
                type
                body
                description
                created_at
                liked
                cover
                count_likes
                count_comments
                count_tips
                user {
                    avatar
                    name
                    id
                }
                category {
                    id
                    name
                    logo
                }
                images {
                    id
                    url
                    width
                    height
                }
                video {
                    id
                    url
                    duration
                    width
                    height
                    cover
                }
            }
        }
    }
}

# 用户的浏览记录
query userVisitsQuery($user_id: Int!, $page: Int) {
    visits(user_id: $user_id, page: $page) {
        paginatorInfo {
            currentPage
            hasMorePages
        }
        data {
            article {
                id
                type
                body
                description
                created_at
                cover
                hits
                count_likes
                count_comments
                count_tips
                liked
                user {
                    avatar
                    name
                    id
                }
                category {
                    id
                    name
                    logo
                }
                images {
                    id
                    url
                    width
                    height
                }
                video {
                    id
                    url
                    duration
                    info {
                        width
                        height
                        rotate
                        covers
                    }
                    cover_url
                }
            }
        }
    }
}

#复制视频链接
query shareQuery($id: ID!) {
    sharePost(id: $id)
}

# 热门标签
query HotTagQuery($page: Int, $count: Int) {
    tags(filter: HOT, page: $page, count: $count) {
        data {
            id
            name
        }
    }
}

# 用户已经拥有的标签
query userTags($id: Int!, $page: Int) {
    user(id: $id) {
        tags(page: $page) {
            paginatorInfo {
                total
                count
            }
            data {
                id
                name
            }
        }
    }
}

# 标签下的内容
query tagPostsQuery($tag_id: Int!, $page: Int, $count: Int, $order: PostOrderEnum, $visibility: TagVisibilityEnum) {
    tag(id: $tag_id) {
        id
        name
        count_posts
        count_plays
        posts(visibility: $visibility, page: $page, count: $count, order: $order) {
            paginatorInfo {
                total
                currentPage
                lastPage
                hasMorePages
            }
            data {
                id
                spider {
                    id
                }
                content
                description
                status
                liked
                count_likes
                count_comments
                review_id
                review_day
                is_ad
                created_at
                user {
                    id
                    name
                    avatar
                    followed_status
                    gender
                    age
                    introduction
                }
                tags {
                    data {
                        id
                        name
                    }
                }
                images {
                    id
                    url
                    width
                    height
                }
                video {
                    id
                    url
                    cover
                    duration
                    width
                    height
                }
            }
        }
    }
}
