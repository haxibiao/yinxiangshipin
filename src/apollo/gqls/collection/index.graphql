#import './mutation.graphql'

# 自定义的推荐合集
query recommendCollectionsQuery {
    recommendCollections {
        topCover
        topCollection {
            id
            logo
            name
            description
            count_articles
            count_follows
            count_posts
            count_views
            updated_to_episode
            followed
            user {
                id
                name
                avatar
            }
        }
        recommendCollectionsA {
            id
            logo
            name
            description
            count_articles
            count_follows
            count_posts
            count_views
            updated_to_episode
            followed
            user {
                id
                name
                avatar
            }
        }
        recommendCollectionsB {
            id
            logo
            name
            description
            count_articles
            count_follows
            count_posts
            count_views
            updated_to_episode
            followed
            user {
                id
                name
                avatar
            }
        }
    }
}

# 随机推荐合集
query randomCollectionsQuery($page: Int, $count: Int) {
    randomCollections(page: $page, count: $count) {
        paginatorInfo {
            hasMorePages
            currentPage
        }
        data {
            id
            logo
            name
            description
            count_articles
            count_follows
            count_posts
            count_views
            updated_to_episode
            followed
            user {
                id
                name
                avatar
            }
        }
    }
}

# 个人合集
query collectionsQuery($user_id: Int!, $count: Int, $page: Int) {
    collections(user_id: $user_id, count: $count, page: $page) {
        paginatorInfo {
            currentPage
            hasMorePages
        }
        data {
            id
            logo
            name
            description
            count_articles
            count_follows
            count_posts
            count_views
            updated_to_episode
            followed
            type
            status
            user {
                id
                name
            }
        }
    }
}

# 合集内的视频
query collectionPostsQuery($collection_id: Int!, $page: Int, $count: Int) {
    collection(collection_id: $collection_id) {
        id
        logo
        name
        description
        count_articles
        count_follows
        count_posts
        count_views
        updated_to_episode
        followed
        type
        status
        user {
            id
            name
        }
        posts(page: $page, count: $count) {
            paginatorInfo {
                lastPage
                currentPage
                hasMorePages
            }
            data {
                id
                spider {
                    id
                }
                content
                description
                status
                liked
                count_likes
                count_comments
                review_id
                review_day
                is_ad
                created_at
                current_episode
                user {
                    id
                    name
                    avatar
                    followed_status
                    gender
                    age
                    introduction
                }
                collections {
                    id
                    logo
                    name
                    description
                    followed
                    count_articles
                    count_follows
                    count_views
                    updated_to_episode
                }
                tags {
                    data {
                        id
                        name
                    }
                }
                images {
                    id
                    url
                    width
                    height
                }
                video {
                    id
                    url
                    cover
                    duration
                    width
                    height
                }
            }
        }
    }
}

# 分享合集
query shareCollectionMutation($collection_id: Int!) {
    shareCollection(collection_id: $collection_id)
}
